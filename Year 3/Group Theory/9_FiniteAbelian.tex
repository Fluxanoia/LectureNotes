\section{Finitely Generated Abelian Groups}

We will write $\mb{Z}^n = \{(m_1, \ldots, m_n) : m_1, \ldots, m_n \in \mb{Z}\}$
and $e_i = (0, \ldots, 1, \ldots, 0) \in \mb{Z}^n$ with $1$ in the 
$i^{\text{th}}$ entry. These are the standard generators for $\mb{Z}^n$.
\\[\baselineskip]
For some $n$ in $\mb{N}$, we write $\mb{Z}_n$ to be the integers
modulo $n$ which is a group under addition. Additionally, $n\mb{Z}$
is a subgroup of $\mb{Z}$ and $\mb{Z}_n \cong \mb{Z}/n\mb{Z}$.

\subsection{Classification of Cyclic Groups}

For a cyclic group $G$, if $|G| = n$ finite, we have that $G \cong \mb{Z}_n$.
Otherwise, $G \cong \mb{Z}$.

\begin{proof}
    We choose $x$ as a generator of $G$. We take $\varphi : \mb{Z} \to G$
    to be defined as $\varphi(m) = x^m$. We can see that $\varphi$ is a
    surjective homomorphism. If $|x| = \infty$ then $\Ker(\varphi) = \{0\}$,
    otherwise, $\Ker(\varphi) = |x|\mb{Z}$. By the homomorphism theorem:
    \begin{align*}
        G = \Ima(\varphi) \cong \mb{Z}/\Ker(\varphi).
    \end{align*} The result follows as $\mb{Z}/\Ker(\varphi) = \mb{Z}$
    if $|x| = \infty$ and $\mb{Z}_{|x|}$ otherwise.
\end{proof}

\subsection{The Torsion Subgroup}

For an abelian group $G$ with $T \subseteq G$ the set of
elements in $G$ of finite order and a prime $p$ with
$G_p \subseteq T$ the set of elements in $T$ of with order
equal to a power of $p$. We have that $G_p \leq T \leq G$
and $G/T$ is torsion-free
with $T$ called the torsion subgroup of $G$ and $G_p$ called
the $p$-primary component of $G$.

\begin{proof}
    We suppose $x$ and $y$ are in $T$ with $|x| = k$, $|y| = m$.
    We know that \linebreak $km(x - y) = 0$ so $|x - y| \leq km < \infty$,
    thus $(x - y)$ is in $T$ so $T$ is a subgroup of $G$ by the subgroup test. 
    \\[\baselineskip]
    Furthermore,
    $|x - y|$ must divide $km$ so if $x$ and $y$ are in $G_p$
    then $km$ is a power of $p$. Thus, $|x - y|$ is a
    power of $p$ so $(x - y)$ is in $G_p$. Again, by the subgroup test,
    $G_p$ is a subgroup of $T$.
    \\[\baselineskip]
    Suppose $z + T$ has finite order for some $z$ in $G$. If so,
    there exists some $m$ in $\mb{N}$ with $mx + T = T$, in particular 
    $mx$ is in $T$. By the definition of $T$, there exists some $n$
    in $\mb{N}$ with $nmx = 0$. But, this would mean $x$ has finite order
    so $x$ is in $T$. Thus, $G / T$ is torsion-free.
\end{proof}

\subsection{The Primary Decomposition Theorem}

For a finite abelian group $G$, we take $p_1, \ldots, p_k$ to be the
prime factors of $|G|$. We have that $G = G_{p_1} \oplus \cdots \oplus
G_{p_k}$.

\begin{proof}
    We take $x$ in $G$, by Lagrange's Theorem, we have that
    $x = p_1^{l_1} \cdots p_k^{l_k}$ for some $l_1, \ldots, l_k$ in $\mb{N}_0$.
    For each $i$ in $[k]$, we set: \begin{align*}
        n_i = \prod_{j \in [k]\backslash\{i\}} p_j^{l_j},
    \end{align*} and note that $|n_ix| = p_i^{l_i}$ so $n_ix$ is in $G_{p_i}$.
    Clearly $\gcd(n_1, \ldots, n_k) = 1$, so by the Euclidean algorithm there
    exists $m_1, \ldots, m_k$ such that $m_1n_1 + \cdots + m_kn_k = 1$. Thus:
    \begin{align*}
        x 
        &= \left(\sum_{i = 1}^k m_in_i\right) \cdot x \\
        &= \sum_{i = 1}^k m_i(n_ix) \\
        &\in \sum_{i = 1}^k G_{p_i}. 
    \end{align*} Thus, $G = G_{p_1} + \cdots + G_{p_k}$.
    \\[\baselineskip]
    We now consider $x_i$, $x_i'$ in $G_{p_i}$ for each $i$ in $[k]$ such
    that $\sum_{i \in [k]} x_i = \sum_{i \in [k]} x_i'$. We write
    $y_i = x_i - x_i'$ so that $\sum_{i \in [k]} y_i = 0$. Furthermore,
    we say $|y_i| = p_i^{d_i}$ and set: \begin{align*}
        r_i 
        = \prod_{j \in [k] \backslash \{i\}} |y_i|
        = \prod_{j \in [k] \backslash \{i\}} p_j^{d_j}.
    \end{align*} As $|y_i|$ divides $|r_j|$ for all 
    $j \in [k] \backslash \{i\}$, we know that $r_iy_j = 0$.
    This implies that $r_iy_i = 0$ as $\sum_{i = 1}^k y_i = 0$.
    \\[\baselineskip]
    Moreover, as $r_i$ and $p_i$ are coprime by definition, the
    Euclidean algorithm implies that there exists $a$, $b$ in $\mb{Z}$
    such that: \begin{align*}
        &ar_i + bp_i^{d_i} = 1, \\
        \Longrightarrow \qquad & y_i = (ar_i + bp_i^{d_i})y_i,  \\
        \Longrightarrow \qquad & y_i = ar_iy_i + bp_i^{d_i}y_i,  \\
        \Longrightarrow \qquad & y_i = 0 + 0 = 0, 
    \end{align*} so $x_i = x_i'$ for each $i$ in $[k]$. Thus, our
    compositions are unique as required.
\end{proof}

\subsection{Finitely Generated Abelian Torsion Groups}

A finitely generated torsion group is finite.

\begin{proof}
    We take $x_1, \ldots, x_n$ to be the finite generating set for
    an abelian torsion group $G$ so: \begin{align*}
        G = \{l_1x_1 + \cdots + l_nx_n : 0 \leq l_i < |x_i|\},
    \end{align*} which is finite since $|x_i| < \infty$ for all $i$ in $[n]$.
\end{proof}

\subsection{Order of Elements in $p$-groups}

For a prime $p$ and a $p$-group $G$, we take $g$ in $G$. We set $k$
in $\mb{N}$ to $np^r$ with $n$, $p$ coprime and $r$ in $\mb{N}_0$.
If $p^r \leq |g|$ then $|g^k| = \frac{|g|}{p^r}$.

\begin{proof}
    We know that $|g| = p^m$ for some $m$ as $G$ is a $p$-group.
    For $d$ in $\mb{N}$: \begin{align*}
        & (g^k)^d = e \\
        \Longleftrightarrow \qquad& g^{dnp^r} = e \\
        \Longleftrightarrow \qquad& p^m \text{ divides } dnp^r \\
        \Longleftrightarrow \qquad& p^m \text{ divides } dp^r \\
        \Longleftrightarrow \qquad& p^{m - r} \text{ divides } d,
    \end{align*} thus, $|g^k| = p^{m - r} = \frac{|g|}{p^r}$ as required.
\end{proof}

\subsection{Elements with Coset Order}

For $G$ a finite abelian $p$-group for some prime $p$. We take $g$ in $G$
to have maximum order. For every $x$ in $G$, there exists $y$ in $x + \ang{g}$
sich that the order of $y$ in $G$ is equal to the order of $x + \ang{g}$ in
$G / \ang{g}$.

\begin{proof}
    We write $x + \ang{g} = p^m$ for some $m$, noting that $p^m \cdot x$ 
    is in $\ang{g}$ so $p^m \cdot x = l \cdot g$ for some $l$ in $\mb{N}_0$ 
    (if $l = 0$ we are done). We write $l = np^r$ with $n$, $p$ coprime.
    If $p^r \geq |g|$ then $l \cdot g = 0$ and $|x| = p^m$ and we are done.
    Otherwise, we use the result above to see that 
    $|l \cdot g| = \frac{|g|}{p^r}$ and $|p^mx| = \frac{|x|}{p^m}$
    so $\frac{|g|}{p^r} = \frac{|x|}{p^m}$. The maximality of $g$ 
    implies that $|g| \geq |x|$ so $r \geq m$ and thus $p^m$ divides $l$.
    We define: \begin{align*}
        y = x - \frac{l}{p^m} \cdot g,
    \end{align*} thus $p^my=p^m(x - np^{r-m}g) = 0$ so $|y| \leq p^m$.
    But, as $y$ is in $x + \ang{g}$, $|y| \geq p^m$ so $|y| = p^m$ as
    required.
\end{proof}

\subsection{Decomposition of Finite Abelian $p$-groups}

For a finite abelian $p$-group $G$ with $p$ prime, there exists a $k$
in $\mb{N}_0$ and $m_1, \ldots, m_k$ in $\mb{N}$ such that 
$G \cong \mb{Z}_{p^{m_1}} \oplus \cdots \oplus \mb{Z}_{p^{m_k}}$.

\begin{proof}
    It is sufficient to show that for $x_1, \ldots, x_k$ in $G$, $G$
    is an inner direct sum: \begin{align*}
        G = \ang{x_1} \oplus \cdots \oplus \ang{x_k} \tag{$\ast$}.
    \end{align*} If $G = \{0\}$ then this is trivial so we assume $|G| > 1$.
    By strong induction, we assume every group of order lesser to that of
    $G$ is of the form shown in ($\ast$).
    \\[\baselineskip]
    We take $g$ in $G$ to have maximum order, $g \neq e$ as our group is
    non-trivial so $|G / \ang{g}| < |G|$ so by induction, there exists
    $x_1, \ldots, x_k$ in $G$ such that: \begin{align*}
        G / \ang{g} = \ang{x_1 + \ang{g}} \oplus \cdots \oplus
        \ang{x_k + \ang{g}}.
    \end{align*} The previous result implies that we can assume that 
    $|x_i| = |x_i + \ang{g}|$, so: \begin{align*}
        |G/\ang{g}| 
        &= |\ang{x_1 + \ang{g}}| \cdots |\ang{x_k + \ang{g}}| \\
        &= |x_1| \cdots |x_k|,
    \end{align*} which combined with Lagrange's theorem means that: \begin{align*}
        |G| &= [G : \ang{g}] \\
        &= |G / \ang{g}| \cdot |g| \\
        &= |x_1| \cdots |x_k| \cdot |g|.
    \end{align*} We want to show that $G = \ang{x_1} + \cdots + \ang{x_k} + \ang{g}$
    so for all $h$ in $G$, $h = ng + \sum_{i = 1}^k l_ix_i$ for some
    $l_1, \ldots, l_k, n$ in $\mb{N}_0$. By ($\ast$) we know that: \begin{align*}
        &h + \ang{g} = (l_1x_1 + \cdots + l_kx_k) + \ang{g} \\
        \Longrightarrow \qquad&
        h \in (l_1x_1 + \cdots + l_kx_k) + \ang{g} \\
        \Longrightarrow \qquad&
        h = l_1x_1 + \cdots + l_kx_k + ng \text{ for some } n.
    \end{align*} As we have that $G$ is a sum of $\ang{x_1}, \ldots, \ang{x_k},
    \ang{g}$ and its size is a product of the size of these groups, $G$
    is an inner direct product of said elements as required.
\end{proof}

\subsection{Homomorphism from $\mb{Z}^n$ to Sequences}

For $n$ in $\mb{N}$ and an abelian group $G$, and every $g_1, \ldots, g_n$
in $G$, there exists a unique homomorphism $\varphi : \mb{Z}^n \to G$
satisfying $\varphi(e_i) = g_i$ for all $i$. In particular,
$\varphi((m_1, \ldots, m_1)) = m_1g_1 + \cdots + m_ng_n$.

\begin{proof}
    This is trivially a homomorphism and is unique as homomorphisms are 
    defined by the images of a set of generators.
\end{proof}

\subsection{One-way Inverses on Homomorphisms to $\mb{Z}^n$}

For an abelian group $G$ and $\alpha : G \to \mb{Z}^n$ is a surjective
homomorphism, there exists an injective homomorphism $\beta : \mb{Z}^n \to G$
such that $\alpha \circ \beta = \iota_{\mb{Z}^n}$ (the identity on $\mb{Z}^n$).

\begin{proof}
    If $n = 0$, this is trivial. Otherwise, there exists $g_1, \ldots, g_n$
    in $G$ such that $\alpha(g_i) = e_i$ for all $i$ as $\alpha$ is surjective.
    The previous result states that there exists a homomorphism $\beta$
    from $\mb{Z}^n$ to $G$ such that $\beta(e_i) = g_i$ for all $i$.
    This gives us that $(\alpha \circ \beta)(e_i) = e_i$ which defines
    $\alpha \circ \beta$ as homomorphisms are defined by the images of
    a set of generators. Thus, $\alpha \circ \beta = \iota_{\mb{Z}^n}$.
    \\[\baselineskip]
    We can see that: \begin{align*}
        \ker(\beta) &\subseteq \ker(\alpha \circ \beta) \\
        &= \ker(\iota_{\mb{Z}^n}) \\
        &= \{0\}.
    \end{align*} Thus, $\ker(\beta) = \{0\}$ so $\beta$ is injective as
    required.
\end{proof}

\subsection{Abelian Groups with $\mb{Z}^n$ Quotients}

For an abelian group $G$ with $H \leq G$ satisfying $G/H \cong \mb{Z}^n$
for some $n$ in $\mb{N}_0$, we have that $G = H \oplus K$ for some $K \leq G$
satisfying $K \cong \mb{Z}^n$.

\begin{proof}
    We consider $\pi : G \to G/H$ the quotient homomorphism and
    $\psi : G/H \to \mb{Z}^n$ an isomorphism. We set $\alpha = \psi \circ \pi$
    from $G$ to $\mb{Z}^n$, which is a surjective homomorphism.
    The previous result gives us $\beta : \mb{Z}^n \to G$ an injective
    homomorphism with \linebreak 
    $\alpha \circ \beta = \iota_{\mb{Z}^n}$. We note
    that $H = \ker(\alpha) \leq G$ and set $K = \beta(\mb{Z}^n) \leq G$.
    Furthermore, as $\beta$ is injective, $K \cong \mb{Z}^n$.
    \\[\baselineskip]
    Given $g$ in $G$: \begin{align*}
        \alpha(g - (\beta \circ \alpha)(g)) 
        &= \alpha(g) - \alpha((\beta \circ \alpha)(g)) \\
        &= \alpha(g) - ((\alpha \circ \beta) \circ \alpha)(g) \\
        &= \alpha(g) - \alpha(g) \\
        &= 0,
    \end{align*} therefore $(g - (\beta \circ \alpha)(g))$ is in 
    $\ker(\alpha) = H$ so $g$ is in $(\beta \circ \alpha)(g) + H$
    in particular, $g$ is in $K + H = H + K$. As 
    $\alpha \circ \beta = \iota_{\mb{Z}^n}$, 
    $\ker(\alpha) \cap \beta(\mb{Z}^n) = \{0\}$ which means $H \cap K = \{0\}$.
    Thus, $G = H \oplus K$ as required.
\end{proof}

\subsection{Finitely Generated Subgroups}

For a finitely generated abelian group $G$ with $H \leq G$ satisfying
$G / H \cong \mb{Z}^n$ for some $n$ in $\mb{N}_0$, $H$ is finitely generated.

\begin{proof}
    We know that $G \cong H \oplus \mb{Z}^n$ by the previous result.
    The projection $\pi$ from $H \oplus \mb{Z}^n$ onto $H$ defined by
    $(h, z) \mapsto h$ is a homomorphism. Since $H \oplus \mb{Z}^n$
    is finitely generated, $H$ is finitely generated by these generators
    under $\pi$.
\end{proof}

\subsection{Fundamental Theorem of Finitely Generated Torsion-free Abelian Groups}

For $n$ in $\mb{N}$ and $G$ a finitely generated torsion-free abelian group
generated by at most $n$ elements, $G \cong \mb{Z}^k$ for some $k \leq n$.

\begin{proof}
    We take $\{g_1, \ldots, g_n\}$ to be a generating set of $G$. If
    $n = 1$, $G$ is cyclic and has infinite order so $G \cong \mb{Z}$.
    Otherwise, we set: \begin{align*}
        H = \{x \in G : \exists \, m \in \mb{N} \text{ such that } mx \in \ang{g_n} \},     
    \end{align*} and observe that $H$ is a subgroup via the subgroup test. We 
    consider the quotient $G / H$ and the quotient homomorphism $\pi : G \to G / H$.
    We know that $G / H$ is torsion-free as: \begin{align*}
        k\pi(x) = 0 
        &\Longrightarrow \pi(kx) \\
        &\Longrightarrow kx \in H \\
        &\Longrightarrow lkx \in \ang{g_n} \text{ for some } l \\
        &\Longrightarrow x \in H \\
        &\Longrightarrow \pi(x) = 0.
    \end{align*} So $0$ is the only element of finite order in $G / H$
    as $\pi$ is surjective. Furthermore, $g_n$ is also in $H$ so $G / H$
    is generated by $\{\pi(g_1), \ldots, \pi(g_{n - 1})\}$.
    By induction on $n$, $G / H \cong \mb{Z}^k$ for some $k \leq n - 1$.
    By a previous result, $G \cong H \oplus \mb{Z}^k$ so it's sufficient
    to show that $H \cong \{0\} \text{ or } \mb{Z}$. 
    \\[\baselineskip]
    We know that $H$
    is torsion-free as it's a subgroup of $G$, we consider 
    $H / \ang{g_n}$ which is finitely generated via $\pi$ and the quotient 
    homomorphism to $H / \ang{g_n}$ and a torsion group as for all
    $h$ in $H$, there's some $l$ such that $l(h + \ang{g_n}) = \ang{g_n}$.
    In particular, $H / \ang{g_n}$ is finite with size $m$ for instance.
    Thus, for all $h$ in $H$, $m(h + \ang{g_n}) = \ang{g_n}$ so
    $mh$ is in $\ang{g_n}$. We define $\varphi : H \to \ang{g_n}$
    by $h \mapsto mh$ which is clearly a homomorphism and injective
    as $H$ is torsion-free (so $mh = 0$ implies that $h = 0$).
    So, \linebreak 
    $H \cong \varphi(H) \leq \ang{g_n}$, in particular, $H$ is cyclic.
    Thus, $H \cong \mb{Z}$ because $H$ has infinite
    order and is cyclic as required.
\end{proof}

\subsection{Fundamental Theorem of Finitely Generated Abelian Groups}

Suppose $G$ is a finitely generated abelian group, there exists
non-negative integers $n$ and $k$, primes $p_1, \ldots, p_k$, and
natural numbers $n_1, \ldots, n_k$ such that: \begin{align*}
    G \cong \mb{Z}_{p_1^{m_1}} \oplus \cdots 
    \oplus \mb{Z}_{p_k^{m_k}} \oplus \mb{Z}^n
\end{align*}

\begin{proof}
    We take $T \leq G$ to be the torsion subgroup. As $G$ is finitely generated,
    $G / T$ is also and by the previous result, $G / T \cong \mb{Z}^n$ for some
    $n$. By more previous results, we know that $G \cong T \oplus \mb{Z}^n$
    and $T$ is finitely generated and hence finite. Again, we know that
    there are finitely many primes $p_1, \ldots, p_m$ such that
    $G_{p_i} \neq \{0\}$, each $G_{p_i}$ is finite, and 
    $T = G_{p_1} \oplus \cdots \oplus G_{p_m}$. We know that each
    $G_{p_i} = \mb{Z}_{p_i^{m_1}} \oplus \cdots \oplus \mb{Z}_{p_i^{m_d}}$
    which gives us the result.
\end{proof}
